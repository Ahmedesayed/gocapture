<div class="form-view {{barcodeStatusMap[submission ? submission.barcode_processed : displayForm.barcode_processed ]}}">
  <!--button ion-button (click)="showSelection()"></button-->

  <form [formGroup]="theForm" style="width:100%;" novalidate *ngIf="theForm">

      <div class="" *ngFor="let element of displayForm.elements; let i = index; trackBy: trackByFn">

        <section-block *ngIf="element.type == 'section_block' && !element.is_hidden" [title]="element.title" [collapseContent]="element.collapse_content">
          <ng-container *ngFor="let child of element.children">
            <dynamic-form-element
              *ngIf="shouldElementBeDisplayedInsideSection(child)"
              [theForm]="theForm"
              [element]="child"
              [submitAttempt]="submitAttempt"
              [readOnly]="readOnly"
              [isEditing]="isEditing"
              [form]="form"
              [submission]="submission" 
              (onProcessingEvent)="onProcessing($event)">
            </dynamic-form-element>
          </ng-container>
        </section-block>

        <dynamic-form-element
          *ngIf="shouldElementBeDisplayed(element) && element.type != 'section_block'"
          [theForm]="theForm"
          [element]="element"
          [submitAttempt]="submitAttempt"
          [readOnly]="readOnly"
          [isEditing]="isEditing"
          [form]="form"
          [submission]="submission"
          (onProcessingEvent)="onProcessing($event)">
        </dynamic-form-element>

      </div>      
      
  </form>
</div>
