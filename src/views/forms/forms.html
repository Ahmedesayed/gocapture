<ion-header>
	<ion-navbar color="primary">
		<button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
		<ion-title>Events</ion-title>
		<ion-buttons end>
			<button ion-button (click)="sync()" class="larger" >
				<ion-icon name="sync"></ion-icon>
			</button>
			<button ion-button (click)="toggleSearch()" class="larger" [class.search]="searchMode">
        <ion-icon name="search"></ion-icon>
      </button>
		</ion-buttons>
	</ion-navbar>
</ion-header>

<ion-content class="forms">
	<ion-searchbar #search (ionInput)="getItems($event)" *ngIf="searchMode" [@visibleTrigger]="searchTrigger"></ion-searchbar>
	<ion-list approxItemHeight="77px">
		<ion-item detail-none (click)="presentActionSheet(form)" *ngFor="let form of filteredForms">
			<h1 class="form-title">{{form.name}}</h1>
			<h2>{{form.total_submissions}} Total &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span ion-text color="secondary">{{form.total_sent}} Sent</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span ion-text color="orange" *ngIf="form.total_hold > 0">{{form.total_hold}} Pending</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="text-danger" *ngIf="form.total_unsent > 0">{{form.total_unsent}} Unsent</span></h2>
		</ion-item>
	</ion-list>
	<!--ion-refresher (ionRefresh)="doRefresh($event)">
		<ion-refresher-content pull-max="200"></ion-refresher-content>
	</ion-refresher>
	<ion-infinite-scroll (ionInfinite)="doInfinite($event)">
		<ion-infinite-scroll-content></ion-infinite-scroll-content>
	</ion-infinite-scroll-->
</ion-content>
