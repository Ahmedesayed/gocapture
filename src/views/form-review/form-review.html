<ion-header style="background-color: transparent;">
	<ion-navbar color="orange">
		<ion-buttons start>
			<button ion-button>
				<ion-icon name="back"></ion-icon>
			</button>
		</ion-buttons>
		<ion-title>{{form.name}}</ion-title>
		<ion-buttons end>
			<button ion-button (click)="sync()" [disabled]="syncing || !hasSubmissionsToSend">
				<ion-icon name="cloud-upload" class="sync-submissions"></ion-icon>
			</button>
		</ion-buttons>
	</ion-navbar>
	<ion-grid style="background-color: white;">
		<ion-row>
			<ion-col>
				<h4>Touch an entry to edit. Tap the blue circle to skip upload</h4>
			</ion-col>
		</ion-row>
		<ion-row>
			<ion-col>
				<ion-segment [(ngModel)]="filter"  (ionChange)="onFilterChanged()" color="dark" class="segment">
					<ion-segment-button value="" class="all" >
						All
					</ion-segment-button>
					<ion-segment-button value="1"class="sent" color="secondary" >
						Sent
					</ion-segment-button>
					<ion-segment-button value="4"class="ready" color="primary">
						Ready
					</ion-segment-button>
					<ion-segment-button value="2" class="hold" color="orange">
						On Hold
					</ion-segment-button>
					<ion-segment-button value="3" class="blocked" color="danger">
						Blocked
					</ion-segment-button>
				</ion-segment>
			</ion-col>
		</ion-row>
	</ion-grid>
</ion-header>

<ion-content class="form-summary">
	<div [hidden]="filteredSubmissions.length == 0">
		<!-- [virtualScroll]="filteredSubmissions" approxItemHeight="84px"-->
		<ion-list >
			<ion-item *ngFor="let submission of filteredSubmissions" (click)="goToEntry(submission)" [class.danger]="submission.invalid_fields == 1">
				<h1>{{submission.first_name + " " + submission.last_name}}</h1>
				<h2>{{submission.company }}</h2>
				<h2>{{submission.email}}</h2>
				<h2>{{submission.telephone}}</h2>
				<button ion-button item-right icon-only clear (click)="statusClick($event, submission)" [disabled]="syncing">
					<ion-icon [name]="getIcon(submission)" [color]="getColor(submission)"></ion-icon>
				</button>
			</ion-item>
		</ion-list>
	</div>
	<!--ion-infinite-scroll (ionInfinite)="doInfinite($event)">
		<ion-infinite-scroll-content></ion-infinite-scroll-content>
	</ion-infinite-scroll-->
</ion-content>