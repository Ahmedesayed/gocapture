<ion-header>
	<ion-navbar color="orange" #navbar>
		<ion-title>{{form ? form.name : ''}}</ion-title>
		<ion-buttons end>
			<button ion-button (click)="doSave()" *ngIf="!isReadOnly(submission)">
				Submit
			</button>
		</ion-buttons>
	</ion-navbar>
  <ion-toolbar *ngIf="!valid && errorMessage && errorMessage.length > 0">
    <div class="error-message" >{{errorMessage}}</div>
  </ion-toolbar>
</ion-header>

<ion-content class="form-summary">

	<ion-grid>
		<ion-row *ngIf="form && form.list_id > 0 && !isReadOnly(submission)">
			<ion-col>
				<button ion-button block color="light" (click)="searchProspect()"><ion-icon name="search"></ion-icon>&nbsp;&nbsp;&nbsp;Pre-fill from List</button>
			</ion-col>
		</ion-row>
		<ion-row>
			<form-view #formView
						[form]="form"
						[prospect]="prospect"
						[submission]="submission"
						(onValidationChange)="onValidationChange($event)"
						[readOnly]="isReadOnly(submission)"
            [submitAttempt]="submitAttempt"></form-view>
		</ion-row>
	</ion-grid>
</ion-content>
